function [cassie_tree] = cassie_tree_str_withrod
%CASSIE_TREE Summary of this function goes here
% information about the cassie kinematics with all the rods on it
%   Detailed explanation goes here
cassie_tree = struct('p',zeros(31,1), 'r',zeros(31,3),'R', zeros(3,3,31),'m',zeros(31,1),...
    'c',zeros(31,3),'Ic',zeros(31,6),'Sw',zeros(31,3),'Sv',zeros(31,3),...
    'jointPos',zeros(31,1),'jointVel',zeros(31,1),'jointAcc',zeros(31,1),...
    'ismoving',zeros(31,1),'joint_index',zeros(31,1),...
    'Xc',zeros(6,6,31),'f',zeros(6,31),'vel',zeros(6,31),'acc',zeros(6,31),'I',zeros(6,6,31));

% coder.extrinsic('cell2mat');

% parent frame
cassie_tree.p = [0;1;2;3;4;5;6;7;8;9;10;10;12;12;14;15;15;17;15;7;20;21;22;22;24;24;26;27;27;29;27];
% translation in parent frame
cassie_tree.r = [0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0.0210000000000000,0.135000000000000,0;0,0,-0.0700000000000000;0,0,-0.0900000000000000;0,0,0.0450000000000000;0.120000000000000,0,0.00450000000000000;0.0606800000000000,0.0824100000000000,0;0.0606800000000000,0.0474100000000000,0;0.434760000000000,0.0200000000000000,0;-0.0126900000000000,-0.0305900000000000,0.000920000000000000;0.0580000000000000,-0.0340000000000000,0.0227500000000000;0.0550000000000000,0,-0.00791000000000000;0.408000000000000,-0.0400000000000000,0;0.0210000000000000,-0.135000000000000,0;0,0,-0.0700000000000000;0,0,-0.0900000000000000;0,0,-0.0450000000000000;0.120000000000000,0,-0.00450000000000000;0.0606800000000000,0.0824100000000000,0;0.0606800000000000,0.0474100000000000,0;0.434760000000000,0.0200000000000000,0;-0.0126900000000000,-0.0305900000000000,-0.000920000000000000;0.0580000000000000,-0.0340000000000000,-0.0227500000000000;0.0550000000000000,0,0.00791000000000000;0.408000000000000,-0.0400000000000000,0];
% rotation in parent frame
% TODO: find a better way to transfer to the format
R = [1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;0,0,1;0,1,0;-1,0,0;0,0,-1;0,1,0;1,0,0;0,1,0;0,0,-1;-1,0,0;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;-0.912106331489152,-0.409916838759340,0.00549775944811331;0.408285337290767,-0.909521344084128,-0.0779359224540610;0.0369475765208610,-0.0688411937501802,0.996943211337680;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;0,0,1;0,1,0;-1,0,0;0,0,-1;0,1,0;1,0,0;0,1,0;0,0,-1;-1,0,0;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;-0.912106331489152,-0.409916838759340,-0.00549775944811331;0.408285337290767,-0.909521344084128,0.0779359224540610;-0.0369475765208610,0.0688411937501802,0.996943211337680;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1;1,0,0;0,1,0;0,0,1];
for i = 1:31
    cassie_tree.R(:,:,i) = R(3*(i-1)+1:3*i,1:3);
end
% mass of each link
cassie_tree.m = [0;0;0;0;0;0;10.3300000000000;1.82000000000000;1.17100000000000;5.52000000000000;0.156700000000000;0.757800000000000;0.186000000000000;0.577000000000000;0.782000000000000;0.126000000000000;0.126100000000000;0.118600000000000;0.149800000000000;1.82000000000000;1.17100000000000;5.52000000000000;0.156700000000000;0.757800000000000;0.186000000000000;0.577000000000000;0.782000000000000;0.126000000000000;0.126100000000000;0.118600000000000;0.149800000000000];
% position of CoM in each link frame
cassie_tree.c = [0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0.0506600000000000,0.000346000000000000,0.0284100000000000;-0.0179300000000000,0.000100000000000000,-0.0442800000000000;0,-1.00000000000000e-05,-0.0342770000000000;0.0594600000000000,5.00000000000000e-05,-0.0358100000000000;0.247190000000000,0,0;0.0230000000000000,0.0320700000000000,-0.00218100000000000;0.0836000000000000,0.00340000000000000,0;0.183380000000000,0.00116900000000000,0.000212300000000000;0.110460000000000,-0.0305800000000000,-0.00131000000000000;0.0810000000000000,0.00220000000000000,0;0.00493000000000000,2.00000000000000e-05,-0.00215000000000000;0.177920000000000,0,0;0.00474000000000000,0.0274800000000000,-0.000140000000000000;-0.0179300000000000,0.000100000000000000,-0.0442800000000000;0,1.00000000000000e-05,-0.0342770000000000;0.0594600000000000,5.00000000000000e-05,0.0358100000000000;0.247190000000000,0,0;0.0230000000000000,0.0320700000000000,0.00218100000000000;0.0836000000000000,0.00340000000000000,0;0.183380000000000,0.00116900000000000,-0.000212300000000000;0.110460000000000,-0.0305800000000000,0.00131000000000000;0.0810000000000000,0.00220000000000000,0;0.00493000000000000,2.00000000000000e-05,0.00215000000000000;0.177920000000000,0,0;0.00474000000000000,0.0274800000000000,0.000140000000000000];
% Inertia parameter of each link
cassie_tree.Ic = [0,0,0,0,0,0;0,0,0,0,0,0;0,0,0,0,0,0;0,0,0,0,0,0;0,0,0,0,0,0;0,0,0,0,0,0;0.0858210000000000,0.0492220000000000,0.0862600000000000,1.27600000000000e-05,-0.000160220000000000,-0.000414000000000000;0.00343100000000000,0.00379300000000000,0.00213500000000000,-6.65000000000000e-07,-0.000840000000000000,3.99000000000000e-06;0.00244300000000000,0.00280300000000000,0.000842000000000000,-4.00000000000000e-08,2.46200000000000e-07,-2.71000000000000e-08;0.0108980000000000,0.0297140000000000,0.0302570000000000,-0.000266900000000000,-5.72100000000000e-05,9.17000000000000e-06;3.75400000000000e-06,0.00448700000000000,0.00448800000000000,-3.74000000000000e-08,1.61000000000000e-08,0;0.00137600000000000,0.00103350000000000,0.00216370000000000,-0.000397440000000000,-4.08500000000000e-05,-5.37400000000000e-05;5.21500000000000e-05,0.000412050000000000,0.000366900000000000,6.87000000000000e-06,0,0;0.000359390000000000,0.0147280000000000,0.0147070000000000,-0.000209810000000000,2.26600000000000e-05,-1.20000000000000e-07;0.000392380000000000,0.0135950000000000,0.0136740000000000,0.000236510000000000,-4.98700000000000e-05,-4.82000000000000e-06;2.95900000000000e-05,0.000222310000000000,0.000200700000000000,7.15000000000000e-06,-6.00000000000000e-07,1.00000000000000e-07;2.69410000000000e-05,4.96210000000000e-05,6.33620000000000e-05,-2.10000000000000e-09,-3.96230000000000e-06,-1.09000000000000e-08;2.77900000000000e-06,0.00177400000000000,0.00177500000000000,-2.34000000000000e-08,-8.10000000000000e-09,0;0.000173880000000000,0.000167930000000000,0.000332610000000000,0.000118140000000000,1.36000000000000e-06,-4.00000000000000e-07;0.00343100000000000,0.00379300000000000,0.00213500000000000,6.65000000000000e-07,-0.000840000000000000,-3.99000000000000e-06;0.00244300000000000,0.00280300000000000,0.000842000000000000,4.00000000000000e-08,2.46200000000000e-07,2.71000000000000e-08;0.0108980000000000,0.0297140000000000,0.0302570000000000,-0.000266900000000000,5.72100000000000e-05,-9.17000000000000e-06;3.75400000000000e-06,0.00448700000000000,0.00448800000000000,-3.74000000000000e-08,1.61000000000000e-08,0;0.00137600000000000,0.00103350000000000,0.00216370000000000,-0.000397440000000000,4.08500000000000e-05,5.37400000000000e-05;5.21500000000000e-05,0.000412050000000000,0.000366900000000000,6.87000000000000e-06,0,0;0.000359390000000000,0.0147280000000000,0.0147070000000000,-0.000209810000000000,-2.26600000000000e-05,1.20000000000000e-07;0.000392380000000000,0.0135950000000000,0.0136740000000000,0.000236510000000000,4.98700000000000e-05,4.82000000000000e-06;2.95900000000000e-05,0.000222310000000000,0.000200700000000000,7.15000000000000e-06,6.00000000000000e-07,-1.00000000000000e-07;2.69410000000000e-05,4.96210000000000e-05,6.33620000000000e-05,-2.10000000000000e-09,3.96230000000000e-06,1.09000000000000e-08;2.77900000000000e-06,0.00177400000000000,0.00177500000000000,-2.34000000000000e-08,8.10000000000000e-09,0;0.000173880000000000,0.000167930000000000,0.000332610000000000,0.000118140000000000,-1.36000000000000e-06,4.00000000000000e-07];% Rotation Subspace of each joint
cassie_tree.Sw = [0,0,0;0,0,0;0,0,0;0,0,1;0,1,0;1,0,0;0,0,0;0,0,1;0,0,1;0,0,1;0,0,0;0,0,1;0,0,0;0,0,1;0,0,1;0,0,0;0,0,1;0,0,0;0,0,1;0,0,1;0,0,1;0,0,1;0,0,0;0,0,1;0,0,0;0,0,1;0,0,1;0,0,0;0,0,1;0,0,0;0,0,1];
% Translation Subspace of each joint
cassie_tree.Sv = [1,0,0;0,1,0;0,0,1;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0;0,0,0];
% index of whether a joint is moving
cassie_tree.ismoving = [1;1;1;1;1;1;0;1;1;1;0;1;0;1;1;0;1;0;1;1;1;1;0;1;0;1;1;0;1;0;1];
% index of joint in generalized coordinates. 0 means that the joint is not a generalized coordinate 
cassie_tree.joint_index = [1;2;3;4;5;6;0;7;8;9;0;10;0;11;12;0;13;0;14;15;16;17;0;18;0;19;20;0;21;0;22];
end

